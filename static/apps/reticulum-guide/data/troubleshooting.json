{
  "title": "Troubleshooting",
  "sections": [
    {
      "id": "quick-fixes",
      "title": "Quick Fixes",
      "content": "<p>Try these first before deep debugging:</p><h4>Nothing works</h4><ol><li>Run <code>rnstatus</code> - is Reticulum running?</li><li>Check interface shows \"Up\"</li><li>If using testnet, verify internet connection</li></ol><h4>Can't find destination</h4><ol><li><code>rnpath -r &lt;hash&gt;</code> - force path request</li><li>Wait 30-60 seconds for network convergence</li><li>Verify you're on same network as destination</li></ol><h4>Messages not arriving</h4><ol><li>Confirm path exists: <code>rnpath &lt;hash&gt;</code></li><li>Check recipient is online (for Direct delivery)</li><li>Configure propagation node (for offline recipients)</li></ol><h4>RNode not connecting</h4><ol><li>Check cable is data-capable, not charge-only</li><li>Verify permissions: <code>sudo usermod -aG dialout $USER</code></li><li>Try holding BOOT button while connecting</li></ol>"
    },
    {
      "id": "no-path",
      "title": "No Path to Destination",
      "content": "<p><code>rnpath</code> returns \"No path to destination\"</p><h4>Checklist</h4><ol><li><strong>Hash correct?</strong> Must be exactly 32 hex characters</li><li><strong>Interface up?</strong> Run <code>rnstatus</code>, check interface shows \"Up\"</li><li><strong>Same network?</strong> You and destination must share at least one network (testnet, local, etc.)</li><li><strong>Destination online?</strong> It must be running and announcing</li><li><strong>Wait for convergence</strong> - can take up to 1 minute</li></ol><h4>Force Path Request</h4><pre><code>rnpath -r 2eabad04f9145d32a6a3eda285d66c39</code></pre><p>This explicitly requests the path rather than checking cache.</p><h4>Common Causes</h4><ul><li>Destination not running</li><li>You're on different networks (e.g., you on testnet, they on local only)</li><li>Firewall blocking traffic</li><li>I2P tunnel not established yet (wait 2-3 minutes)</li></ul>"
    },
    {
      "id": "interface-down",
      "title": "Interface Not Coming Up",
      "content": "<h4>TCP Interface: Connection Refused</h4><ul><li>Verify hostname and port are correct</li><li>Check server is running</li><li>Test with: <code>nc -zv hostname port</code></li><li>Check firewall rules</li></ul><h4>AutoInterface: No Peers</h4><ul><li>Other devices must be on same LAN segment</li><li>Check firewall allows UDP 29716 and 42671</li><li>Verify devices use same <code>group_id</code></li></ul><h4>I2P Interface: Tunnel Not Ready</h4><ul><li>Wait 2-3 minutes for tunnels to build</li><li>Check i2pd is running: <code>systemctl status i2pd</code></li><li>Verify peer address is valid b32 format</li></ul><h4>RNode Interface: Not Found</h4><ul><li>Check device is connected: <code>ls /dev/ttyUSB*</code></li><li>Verify permissions (dialout group)</li><li>Try different USB port or cable</li></ul>"
    },
    {
      "id": "rnode-problems",
      "title": "RNode Problems",
      "content": "<h4>Device Not Detected</h4><pre><code># Check if visible\nls /dev/ttyUSB* /dev/ttyACM*\n\n# Use persistent path\nls /dev/serial/by-id/</code></pre><h4>Permission Denied</h4><pre><code>sudo usermod -aG dialout $USER\n# Log out and back in</code></pre><h4>Flashing Fails</h4><ol><li>Hold BOOT button while plugging in USB</li><li>Try different cable (must be data-capable)</li><li>Try different USB port</li><li>Check if correct board selected</li></ol><h4>Radio State Mismatch</h4><p>Firmware issue. Reflash:</p><pre><code>rnodeconf --autoinstall</code></pre><h4>Windows-Specific</h4><p>Windows resets ESP32 on serial disconnect. For Bluetooth RNodes:</p><ul><li>Use power-only cable</li><li>Never connect serial while using Bluetooth</li><li>If stuck, unplug and replug device</li></ul>"
    },
    {
      "id": "message-failures",
      "title": "Message Delivery Failures",
      "content": "<h4>Message Times Out</h4><ul><li>Recipient offline and no propagation node configured</li><li>Path went stale - try <code>rnpath -r</code></li><li>Large message on slow link - reduce size</li></ul><h4>No Delivery Confirmation</h4><ul><li>Normal for Opportunistic delivery</li><li>For Direct delivery, indicates link failure</li></ul><h4>Receiving Duplicate Messages</h4><ul><li>Network loop - usually resolves itself</li><li>Check you don't have redundant transport nodes</li></ul><h4>Messages to Offline Users</h4><p>Configure propagation node:</p><pre><code>[propagation]\n  propagation_node = a21f547bc1f70043a28c4e2d5b04e570</code></pre>"
    },
    {
      "id": "nomadnet-issues",
      "title": "NomadNet Problems",
      "content": "<h4>Page Not Rendering</h4><ol><li>File in correct location? <code>~/.nomadnetwork/storage/pages/</code></li><li>Extension is <code>.mu</code>?</li><li>Permissions correct? Static=644, Dynamic=755</li></ol><h4>Dynamic Page Errors</h4><pre><code># Test manually\npython3 ~/.nomadnetwork/storage/pages/mypage.mu</code></pre><p>Fix any Python errors shown.</p><h4>Command Not Found in Dynamic Page</h4><pre><code># Add to top of script\nimport os\nos.environ['PATH'] += ':' + os.path.expanduser('~/.local/bin')</code></pre><h4>Links Don't Work</h4><ul><li>Syntax: <code>[Text`:/page/file.mu]</code></li><li>With color: <code>[`Ff00Text`:/page/file.mu]`f</code></li><li><strong>Must close color with</strong> <code>`f</code></li></ul>"
    },
    {
      "id": "performance",
      "title": "Performance Issues",
      "content": "<h4>Slow Network</h4><ul><li>Normal for low-bandwidth links (LoRa, HF)</li><li>Each hop adds latency</li><li>I2P adds 5-15 seconds per hop</li></ul><h4>High CPU</h4><ul><li>Too many transport nodes in network</li><li>Reduce <code>announce_cap</code> in interface config</li></ul><h4>LoRa Range Issues</h4><ul><li>Try higher spreading factor (slower but farther)</li><li>Check antenna connection</li><li>Verify frequency matches local regulations</li><li>Increase TX power if legal</li></ul><h4>HF Not Working</h4><ul><li>Check propagation conditions</li><li>Verify audio levels</li><li>Confirm PTT is triggering</li><li>Try different frequency/band</li></ul>"
    },
    {
      "id": "debug-mode",
      "title": "Debug Mode",
      "content": "<h4>Enable Verbose Logging</h4><p>Edit <code>~/.reticulum/config</code>:</p><pre><code>[logging]\n  loglevel = 6</code></pre><h4>Run Daemon in Foreground</h4><pre><code>rnsd -v</code></pre><p>Watch the output for errors and connection attempts.</p><h4>Check Service Logs</h4><pre><code># rnsd logs\njournalctl -u rnsd -f\n\n# NomadNet logs\njournalctl -u nomadnet -f</code></pre><h4>Common Log Messages</h4><ul><li><code>Interface up</code> - Good, interface working</li><li><code>Peer connected</code> - Good, found another node</li><li><code>Link established</code> - Good, encrypted channel open</li><li><code>Path request timeout</code> - Destination not reachable</li><li><code>Link failed</code> - Connection dropped</li></ul>"
    },
    {
      "id": "getting-help",
      "title": "Getting Help",
      "content": "<h4>Resources</h4><ul><li><strong>Manual:</strong> <code>reticulum.network/manual/</code></li><li><strong>GitHub:</strong> <code>github.com/markqvist/Reticulum/discussions</code></li></ul><h4>LFM Community</h4><ul><li><strong>Matrix:</strong> #General at matrix.lightfightermanifesto.net</li><li><strong>NomadNet:</strong> Connect to <code>2eabad04f9145d32a6a3eda285d66c39</code></li></ul><h4>When Asking for Help</h4><p>Include:</p><pre><code># Version info\nrnstatus\n\n# Config (remove sensitive info)\ncat ~/.reticulum/config\n\n# Recent logs\njournalctl -u rnsd -n 50</code></pre>"
    }
  ]
}
