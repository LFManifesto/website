{{ define "main" }}
<h1 class="page-title-centered">Shop</h1>

<!-- Products -->
<div class="shop-products">
  {{ range .Pages }}
  <article class="shop-item">
    <div class="shop-item-cover">
      {{ with .Params.cover }}
      <img src="{{ . }}" alt="{{ $.Title }} cover" class="cover-image">
      {{ else }}
      <div class="cover-placeholder">
        <span class="cover-title">{{ .Title }}</span>
      </div>
      {{ end }}
    </div>
    <div class="shop-item-details">
      <h2 class="shop-item-title">{{ .Title }}</h2>
      {{ with .Params.pages }}<span class="shop-item-meta">{{ . }} pages, full color</span>{{ end }}
      <p class="shop-item-description">{{ .Description }}</p>
      {{ with .Params.mixam_url }}
      <a href="{{ . }}" target="_blank" rel="noopener" class="btn btn-primary">Click to Order</a>
      {{ end }}
    </div>
  </article>
  {{ end }}
</div>

<!-- Payment Options -->
<section class="payment-section">
  <h2 class="payment-title">Direct Orders</h2>
  <p class="payment-note">$10 USD flat rate includes shipping within the US.</p>

  <div class="payment-options">
    {{ with .Site.Params.monero_address }}
    <div class="payment-option">
      <div class="payment-option-header">
        <svg class="payment-option-icon" viewBox="0 0 256 256" fill="currentColor"><path d="M127.998 0C57.318 0 0 57.317 0 127.999c0 14.127 2.29 27.716 6.518 40.43H44.8V60.733l83.2 83.2 83.2-83.2v107.695h38.282c4.228-12.714 6.518-26.303 6.518-40.43C256 57.317 198.681 0 127.998 0z"/><path d="M108.867 163.062l-36.31-36.311v67.765H18.623c22.47 36.863 63.051 61.484 109.375 61.484s86.905-24.621 109.375-61.484h-53.934v-67.765l-36.31 36.311-19.13 19.13-19.132-19.13z"/></svg>
        <h3>Monero (XMR)</h3>
      </div>
      <p class="payment-option-desc">Include quantity and shipping address in your email.</p>
      <button class="monero-copy-btn" onclick="navigator.clipboard.writeText('{{ . }}'); this.textContent='Copied!'; setTimeout(() => this.textContent='Copy Address', 2000);">Copy Address</button>
      <a href="mailto:lfmanifesto@proton.me?subject=Monero Order" class="btn btn-secondary mt-md">Contact</a>
    </div>
    {{ else }}
    <div class="payment-option payment-disabled">
      <div class="payment-option-header">
        <svg class="payment-option-icon" viewBox="0 0 256 256" fill="currentColor"><path d="M127.998 0C57.318 0 0 57.317 0 127.999c0 14.127 2.29 27.716 6.518 40.43H44.8V60.733l83.2 83.2 83.2-83.2v107.695h38.282c4.228-12.714 6.518-26.303 6.518-40.43C256 57.317 198.681 0 127.998 0z"/><path d="M108.867 163.062l-36.31-36.311v67.765H18.623c22.47 36.863 63.051 61.484 109.375 61.484s86.905-24.621 109.375-61.484h-53.934v-67.765l-36.31 36.311-19.13 19.13-19.132-19.13z"/></svg>
        <h3>Monero (XMR)</h3>
      </div>
      <p class="payment-option-desc">Coming soon.</p>
    </div>
    {{ end }}

    <div class="payment-option">
      <div class="payment-option-header">
        <svg class="payment-option-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/></svg>
        <h3>Cash / Money Order</h3>
      </div>
      <p class="payment-option-desc">Include quantity and shipping address in your email.</p>
      <a href="mailto:lfmanifesto@proton.me?subject=Cash Order" class="btn btn-secondary">Contact</a>
    </div>
  </div>
</section>
{{ end }}
